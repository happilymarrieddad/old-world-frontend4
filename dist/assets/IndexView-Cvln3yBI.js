import{g as D,u as N,s as z,i,F as C,a as e,j as R,k as A,d as c,l as f,m as F,o as m,c as g,b as v,w as l,C as H,q as L,n as K,t as h,e as M,D as O,G as j,E as q,y as P,z as U,A as $,H as J}from"./index-DBH5ZCFA.js";/* empty css                   *//* empty css                *//* empty css                     *//* empty css                           *//* empty css                 *//* empty css                  */import{u as Q}from"./games-BSZfg_CZ.js";import{u as W}from"./itemTypes-eTisFFPx.js";import"./timestamp_pb-hl9xnwuy.js";const X={class:"item-types-index"},Y={class:"item-types"},Z={style:{height:"1000px"}},me=D({__name:"IndexView",setup(ee){const o=N(),y=Q(),w=W(),{loading:b}=z(o),n=i([]),u=i([]),r=i(""),x=i(""),E=i([{key:"name",dataKey:"name",width:500,title:"Name"},{dataKey:"id",width:200,fixed:C.RIGHT,title:"Options",cellRenderer:s=>e(f,null,[e(R,{underline:!1,icon:A,href:`/item-types/${s.cellData}`},{default:()=>[c("Edit")]})])}]);async function T(){o.loading=!0;const[s,,t]=await y.getGames(500,0);if(t){h.error(t);return}n.value=s,n.value.length>0&&(r.value=n.value[0].id,x.value=n.value[0].name),o.loading=!1}async function p(){o.loading=!0;const[s,,t]=await w.getItemTypes(r.value,500,0);if(t){h.error(t);return}u.value=s,o.loading=!1}return F(async()=>{await T(),await p()}),(s,t)=>{const d=M,_=O,k=j,I=q,S=P,V=U,G=$;return m(),g("div",X,[v("div",Y,[e(I,{separator:"/"},{default:l(()=>[e(d,{to:{path:"/"}},{default:l(()=>[c("Homepage")]),_:1}),e(d,{to:{path:"/games"}},{default:l(()=>[e(k,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=a=>r.value=a),placeholder:"Select",size:"small",style:{"min-width":"200px"},onChange:p},{default:l(()=>[e(_,{key:"",label:"",value:"-- Please select a game --"}),(m(!0),g(f,null,H(n.value,a=>(m(),J(_,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(d,null,{default:l(()=>[c("Item Types")]),_:1})]),_:1})]),v("div",Z,[e(V,null,{default:l(({height:a,width:B})=>[L(e(S,{columns:E.value,data:u.value,width:B,height:a,fixed:""},null,8,["columns","data","width","height"]),[[G,K(b)]])]),_:1})])])}}});export{me as default};
