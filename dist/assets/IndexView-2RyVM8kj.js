import{g as T,u as A,h as F,s as H,i,F as L,a as e,j as M,k as O,d as r,l as h,m as P,o as m,c as v,b as d,w as a,C as j,n as g,p as q,q as U,t as y,e as $,D as J,G as Q,E as W,v as X,x as Y,y as Z,z as ee,A as te,H as ae,B as se}from"./index-NHNacFVT.js";/* empty css                   *//* empty css                *//* empty css                     *//* empty css                  *//* empty css                           *//* empty css                 *//* empty css                  */import{u as le}from"./games-CajSAPuA.js";import{u as oe}from"./statistics-iwFOdJHg.js";import"./timestamp_pb-DpX4yl5v.js";const ne={class:"statistics-index"},ie={class:"statistics"},ce=d("br",null,null,-1),re=d("br",null,null,-1),de={style:{height:"1000px"}},ke=T({__name:"IndexView",setup(ue){const o=A(),w=le(),b=oe(),E=F(),{loading:k}=H(o),n=i([]),_=i([]),c=i(""),x=i(""),S=i([{key:"id",dataKey:"id",width:300,title:"ID"},{key:"name",dataKey:"name",width:500,title:"Name"},{key:"display",dataKey:"display",width:200,title:"Display"},{key:"position",dataKey:"position",width:50,title:"Position"},{dataKey:"id",width:200,fixed:L.RIGHT,title:"Options",cellRenderer:l=>e(h,null,[e(M,{underline:!1,icon:O,href:`/statistics/${l.cellData}`},{default:()=>[r("Edit")]})])}]);async function B(){o.loading=!0;const[l,,t]=await w.getGames(500,0);if(t){y.error(t);return}n.value=l,n.value.length>0&&(c.value=n.value[0].id,x.value=n.value[0].name),o.loading=!1}async function p(){o.loading=!0;const[l,t]=await b.getStatistics(c.value,500,0);if(t){y.error(t);return}_.value=l,o.loading=!1}async function D(){E.push("/statistics/create")}return P(async()=>{await B(),await p()}),(l,t)=>{const u=$,f=J,V=Q,G=W,C=X,I=Y,N=Z,K=ee,R=te;return m(),v("div",ne,[d("div",ie,[e(G,{separator:"/"},{default:a(()=>[e(u,{to:{path:"/"}},{default:a(()=>[r("Homepage")]),_:1}),e(u,{to:{path:"/games"}},{default:a(()=>[e(V,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=s=>c.value=s),placeholder:"Select",size:"small",style:{"min-width":"200px"},onChange:p},{default:a(()=>[e(f,{key:"",label:"",value:"-- Please select a game --"}),(m(!0),v(h,null,j(n.value,s=>(m(),ae(f,{key:s.id,label:s.name,value:s.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(u,null,{default:a(()=>[r("Statistics")]),_:1})]),_:1})]),ce,e(I,{type:"success",onClick:q(D,["prevent"])},{default:a(()=>[e(C,null,{default:a(()=>[e(g(se))]),_:1}),r(" Create New")]),_:1}),re,d("div",de,[e(K,null,{default:a(({height:s,width:z})=>[U(e(N,{columns:S.value,data:_.value,width:z,height:s,fixed:""},null,8,["columns","data","width","height"]),[[R,g(k)]])]),_:1})])])}}});export{ke as default};
