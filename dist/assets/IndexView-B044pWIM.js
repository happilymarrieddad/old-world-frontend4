import{g as k,u as N,h as R,s as V,i as c,F as C,a as e,j as D,k as G,d as s,l as I,m as S,o as T,c as z,b as o,w as t,n as d,p as A,q as F,t as M,e as H,E as K,v as L,x as j,y as q,z as O,A as $,B as J}from"./index-BaqprB8Q.js";/* empty css                   *//* empty css                *//* empty css                     *//* empty css                  *//* empty css                           */import{u as P}from"./games-BndfYZ5_.js";import"./timestamp_pb-Caodtf7B.js";const Q={class:"games-index"},U={class:"games"},W=o("br",null,null,-1),X=o("br",null,null,-1),Y={style:{height:"400px"}},ie=k({__name:"IndexView",setup(Z){const n=N(),u=P(),_=R(),{loading:m}=V(n),r=c([]),p=c([{key:"name",dataKey:"name",width:0,align:"center",title:"Name"},{dataKey:"id",width:200,fixed:C.RIGHT,title:"Options",cellRenderer:a=>e(I,null,[e(D,{underline:!1,icon:G,href:`/games/${a.cellData}`},{default:()=>[s("Edit")]})])}]);async function f(){n.loading=!0;const[a,,l]=await u.getGames(1e4,0);if(l){M.error(l);return}r.value=a,n.loading=!1}async function h(){_.push("/games/create")}return S(async()=>{await f()}),(a,l)=>{const i=H,g=K,b=L,v=j,w=q,x=O,E=$;return T(),z("div",Q,[o("div",U,[e(g,{separator:"/"},{default:t(()=>[e(i,{to:{path:"/"}},{default:t(()=>[s("Homepage")]),_:1}),e(i,null,{default:t(()=>[s("Games")]),_:1})]),_:1})]),W,e(v,{type:"success",onClick:A(h,["prevent"])},{default:t(()=>[e(b,null,{default:t(()=>[e(d(J))]),_:1}),s(" Create New")]),_:1}),X,o("div",Y,[e(x,null,{default:t(({height:y,width:B})=>[F(e(w,{columns:p.value,data:r.value,width:B,height:y,fixed:""},null,8,["columns","data","width","height"]),[[E,d(m)]])]),_:1})])])}}});export{ie as default};
