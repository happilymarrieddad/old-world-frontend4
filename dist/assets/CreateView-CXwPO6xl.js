import{g as F,i as S,J as p,u as G,h as A,s as I,o as f,c as q,a as e,w as t,d as r,q as H,n as L,H as M,b as g,t as l,e as P,E as T,L as $,M as j,N as D,x as J,O,P as Q,Q as U,A as W}from"./index-J7TsvYTq.js";/* empty css                   *//* empty css               *//* empty css                *//* empty css                  *//* empty css                 *//* empty css                           */import{u as z}from"./games-D45vqApO.js";import"./timestamp_pb-Lo3uUtcO.js";const K={class:"games-create"},X=g("br",null,null,-1),Y=g("br",null,null,-1),ue=F({__name:"CreateView",setup(Z){const m=S(),s=p({name:""}),b=p({name:[{required:!0,message:"Please input a name",trigger:"blur"},{min:3,max:100,message:"Name length should at least be 3 chars long",trigger:"blur"}]}),w=async a=>{a&&await a.validate((o,n)=>{o?y():(console.log(n),l.error("invalid form"))})},h=a=>{a&&a.resetFields()},u=G(),v=z(),E=A(),{loading:x}=I(u);async function y(){l.info("Attempting to add new game..."),u.loading=!0;const a=await v.createGame(s.name);if(a){l.error(a);return}u.loading=!1,l.success("Successfully created game"),E.push("/games")}return(a,o)=>{const n=P,C=T,c=$,k=j,d=D,_=J,B=O,N=Q,V=U,R=W;return f(),q("div",K,[e(C,{separator:"/"},{default:t(()=>[e(n,{to:{path:"/"}},{default:t(()=>[r("Homepage")]),_:1}),e(n,{to:{path:"/games"}},{default:t(()=>[r("Games")]),_:1})]),_:1}),X,Y,e(V,{class:"row-bg",justify:"space-between"},{default:t(()=>[e(c,{span:4}),e(c,{span:10},{default:t(()=>[e(N,null,{default:t(()=>[H((f(),M(B,{ref_key:"formRef",ref:m,rules:b,model:s,"label-width":"auto",style:{"max-height":"600px"},"status-icon":""},{default:t(()=>[e(d,{label:"New Game Name",prop:"name"},{default:t(()=>[e(k,{modelValue:s.name,"onUpdate:modelValue":o[0]||(o[0]=i=>s.name=i),placeholder:"Warhammer 40k 3rd Edition"},null,8,["modelValue"])]),_:1}),e(d,null,{default:t(()=>[e(_,{type:"primary",onClick:o[1]||(o[1]=i=>w(m.value))},{default:t(()=>[r("Create")]),_:1}),e(_,{onClick:o[2]||(o[2]=i=>h(m.value))},{default:t(()=>[r("Reset")]),_:1})]),_:1})]),_:1},8,["rules","model"])),[[R,L(x)]])]),_:1})]),_:1}),e(c,{span:4})]),_:1})])}}});export{ue as default};
