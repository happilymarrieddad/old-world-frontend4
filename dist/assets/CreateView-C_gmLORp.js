import{f as F,g as G,G as p,u as S,D as I,s as A,o as f,c as D,a as e,w as t,d as r,m as L,l as M,B as T,b as g,n as l,e as $,E as j,I as q,J as H,K as J,L as K,M as O,N as P,O as U,v as W}from"./index-Bo4L7-t_.js";/* empty css                   *//* empty css               *//* empty css                *//* empty css                 *//* empty css                           */import{u as z}from"./games-Bw-fpxRZ.js";import"./timestamp_pb-CFeAd6Js.js";const Q={class:"games-create"},X=g("br",null,null,-1),Y=g("br",null,null,-1),me=F({__name:"CreateView",setup(Z){const m=G(),s=p({name:""}),b=p({name:[{required:!0,message:"Please input a name",trigger:"blur"},{min:3,max:100,message:"Name length should at least be 3 chars long",trigger:"blur"}]}),w=async a=>{a&&await a.validate((o,n)=>{o?B():(console.log(n),l.error("invalid form"))})},v=a=>{a&&a.resetFields()},u=S(),h=z(),E=I(),{loading:y}=A(u);async function B(){l.info("Attempting to add new game..."),u.loading=!0;const a=await h.createGame(s.name);if(a){l.error(a);return}u.loading=!1,l.success("Successfully created game"),E.push("/games")}return(a,o)=>{const n=$,C=j,c=q,k=H,d=J,_=K,x=O,N=P,V=U,R=W;return f(),D("div",Q,[e(C,{separator:"/"},{default:t(()=>[e(n,{to:{path:"/"}},{default:t(()=>[r("Homepage")]),_:1}),e(n,{to:{path:"/games"}},{default:t(()=>[r("Games")]),_:1})]),_:1}),X,Y,e(V,{class:"row-bg",justify:"space-between"},{default:t(()=>[e(c,{span:4}),e(c,{span:10},{default:t(()=>[e(N,null,{default:t(()=>[L((f(),T(x,{ref_key:"formRef",ref:m,rules:b,model:s,"label-width":"auto",style:{"max-height":"600px"},"status-icon":""},{default:t(()=>[e(d,{label:"New Game Name",prop:"name"},{default:t(()=>[e(k,{modelValue:s.name,"onUpdate:modelValue":o[0]||(o[0]=i=>s.name=i),placeholder:"Warhammer 40k 3rd Edition"},null,8,["modelValue"])]),_:1}),e(d,null,{default:t(()=>[e(_,{type:"primary",onClick:o[1]||(o[1]=i=>w(m.value))},{default:t(()=>[r("Create")]),_:1}),e(_,{onClick:o[2]||(o[2]=i=>v(m.value))},{default:t(()=>[r("Reset")]),_:1})]),_:1})]),_:1},8,["rules","model"])),[[R,M(y)]])]),_:1})]),_:1}),e(c,{span:4})]),_:1})])}}});export{me as default};
