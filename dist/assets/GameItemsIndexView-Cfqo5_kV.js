import{f as B,u as K,s as R,r as i,F as f,a as e,m as z,n as C,d,p as h,g as F,o as c,c as v,b as g,w as o,q as H,h as L,i as A,j as y,e as M,t as O,x as P,E as $,k as j,l as q,v as U,y as J}from"./index-BQqGihlM.js";/* empty css                   *//* empty css                    *//* empty css                     *//* empty css                           *//* empty css                 *//* empty css                  */import{u as Q}from"./games-DP7faEik.js";import{u as W}from"./items-BOZMZR27.js";/* empty css                */import"./timestamp_pb-CTfFuloM.js";const X={class:"items-index"},Y={class:"items"},Z={style:{height:"1000px"}},ue=B({__name:"GameItemsIndexView",setup(ee){const r=K(),w=Q(),x=W(),{loading:b}=R(r),l=i([]),u=i([]),n=i(""),I=i(""),k=i([{key:"itemTypeName",dataKey:"itemTypeName",width:300,title:"Item Type"},{key:"name",dataKey:"name",width:500,title:"Name"},{key:"points",dataKey:"points",width:60,title:"Pts"},{key:"description",dataKey:"description",width:300,fixed:f.RIGHT,title:"Description"},{dataKey:"id",width:200,fixed:f.RIGHT,title:"Options",cellRenderer:a=>e(h,null,[e(z,{underline:!1,icon:C,href:`/games/${a.rowData.gameId}/items/${a.cellData}`},{default:()=>[d("Edit")]})])}]);async function E(){const[a,,t]=await w.getGames(500,0);if(t){y.error(t);return}l.value=a,l.value.length>0&&(n.value=l.value[0].id,I.value=l.value[0].name)}async function p(){r.loading=!0;const[a,t]=await x.getGameItems(n.value,1e4,0);if(t){y.error(t);return}u.value=a,r.loading=!1}return F(async()=>{await E(),await p()}),(a,t)=>{const m=M,_=O,G=P,S=$,T=j,V=q,D=U;return c(),v("div",X,[g("div",Y,[e(S,{separator:"/"},{default:o(()=>[e(m,{to:{path:"/"}},{default:o(()=>[d("Homepage")]),_:1}),e(m,{to:{path:"/games"}},{default:o(()=>[e(G,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=s=>n.value=s),placeholder:"Select",size:"small",style:{"min-width":"200px"},onChange:p},{default:o(()=>[e(_,{key:"",label:"",value:"-- Please select a game --"}),(c(!0),v(h,null,H(l.value,s=>(c(),J(_,{key:s.id,label:s.name,value:s.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(m,null,{default:o(()=>[d("Game Items")]),_:1})]),_:1})]),g("div",Z,[e(V,null,{default:o(({height:s,width:N})=>[L(e(T,{columns:k.value,data:u.value,width:N,height:s,fixed:""},null,8,["columns","data","width","height"]),[[D,A(b)]])]),_:1})])])}}});export{ue as default};
