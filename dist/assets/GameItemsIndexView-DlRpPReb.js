import{f as N,u as K,s as R,g as i,F as f,a as e,h as z,i as A,d,j as g,k as C,o as c,c as h,b as v,w as o,y as F,m as H,l as L,n as y,e as M,z as O,A as P,E as $,q as j,t as q,v as U,B as J}from"./index-Bo4L7-t_.js";/* empty css                   *//* empty css                *//* empty css                     *//* empty css                           *//* empty css                 *//* empty css                  */import{u as Q}from"./games-Bw-fpxRZ.js";import{u as W}from"./items-DUGhBesS.js";import"./timestamp_pb-CFeAd6Js.js";const X={class:"items-index"},Y={class:"items"},Z={style:{height:"1000px"}},ce=N({__name:"GameItemsIndexView",setup(ee){const l=K(),w=Q(),b=W(),{loading:x}=R(l),n=i([]),u=i([]),r=i(""),I=i(""),k=i([{key:"itemTypeName",dataKey:"itemTypeName",width:300,title:"Item Type"},{key:"name",dataKey:"name",width:500,title:"Name"},{key:"points",dataKey:"points",width:60,title:"Pts"},{key:"description",dataKey:"description",width:300,fixed:f.RIGHT,title:"Description"},{dataKey:"id",width:200,fixed:f.RIGHT,title:"Options",cellRenderer:a=>e(g,null,[e(z,{underline:!1,icon:A,href:`/games/${a.rowData.gameId}/items/${a.cellData}`},{default:()=>[d("Edit")]})])}]);async function E(){l.loading=!0;const[a,,t]=await w.getGames(500,0);if(t){y.error(t);return}n.value=a,n.value.length>0&&(r.value=n.value[0].id,I.value=n.value[0].name),l.loading=!1}async function p(){l.loading=!0;const[a,t]=await b.getGameItems(r.value,1e4,0);if(t){y.error(t);return}u.value=a,l.loading=!1}return C(async()=>{await E(),await p()}),(a,t)=>{const m=M,_=O,G=P,S=$,T=j,V=q,B=U;return c(),h("div",X,[v("div",Y,[e(S,{separator:"/"},{default:o(()=>[e(m,{to:{path:"/"}},{default:o(()=>[d("Homepage")]),_:1}),e(m,{to:{path:"/games"}},{default:o(()=>[e(G,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=s=>r.value=s),placeholder:"Select",size:"small",style:{"min-width":"200px"},onChange:p},{default:o(()=>[e(_,{key:"",label:"",value:"-- Please select a game --"}),(c(!0),h(g,null,F(n.value,s=>(c(),J(_,{key:s.id,label:s.name,value:s.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(m,null,{default:o(()=>[d("Game Items")]),_:1})]),_:1})]),v("div",Z,[e(V,null,{default:o(({height:s,width:D})=>[H(e(T,{columns:k.value,data:u.value,width:D,height:s,fixed:""},null,8,["columns","data","width","height"]),[[B,L(x)]])]),_:1})])])}}});export{ce as default};
