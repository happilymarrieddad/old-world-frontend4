import{f as I,u as N,s as R,r as n,F as z,a as e,m as C,n as F,d,p as _,g as K,o as c,c as f,b as v,w as s,q as L,h as A,i as H,j as h,e as M,t as O,x as j,E as q,k as P,l as U,v as $,y as J}from"./index-BQqGihlM.js";/* empty css                   *//* empty css                    *//* empty css                     *//* empty css                           *//* empty css                 *//* empty css                  */import{u as Q}from"./games-DP7faEik.js";import{u as W}from"./troopTypes-CN292-M4.js";/* empty css                */import"./timestamp_pb-CTfFuloM.js";const X={class:"troop-types-index"},Y={class:"troop-types"},Z={style:{height:"1000px"}},pe=I({__name:"IndexView",setup(ee){const y=N(),g=Q(),w=W(),{loading:T}=R(y),l=n([]),u=n([]),r=n(""),b=n(""),x=n([{key:"id",dataKey:"id",width:300,title:"ID"},{key:"name",dataKey:"name",width:500,title:"Name"},{dataKey:"id",width:200,fixed:z.RIGHT,title:"Options",cellRenderer:o=>e(_,null,[e(C,{underline:!1,icon:F,href:`/troop-types/${o.cellData}`},{default:()=>[d("Edit")]})])}]);async function E(){const[o,,t]=await g.getGames(500,0);if(t){h.error(t);return}l.value=o,l.value.length>0&&(r.value=l.value[0].id,b.value=l.value[0].name)}async function p(){const[o,,t]=await w.getTroopTypes(r.value,500,0);if(t){h.error(t);return}u.value=o}return K(async()=>{await E(),await p()}),(o,t)=>{const i=M,m=O,k=j,S=q,V=P,B=U,D=$;return c(),f("div",X,[v("div",Y,[e(S,{separator:"/"},{default:s(()=>[e(i,{to:{path:"/"}},{default:s(()=>[d("Homepage")]),_:1}),e(i,{to:{path:"/games"}},{default:s(()=>[e(k,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=a=>r.value=a),placeholder:"Select",size:"small",style:{"min-width":"200px"},onChange:p},{default:s(()=>[e(m,{key:"",label:"",value:"-- Please select a game --"}),(c(!0),f(_,null,L(l.value,a=>(c(),J(m,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(i,null,{default:s(()=>[d("Troop Types")]),_:1})]),_:1})]),v("div",Z,[e(B,null,{default:s(({height:a,width:G})=>[A(e(V,{columns:x.value,data:u.value,width:G,height:a,fixed:""},null,8,["columns","data","width","height"]),[[D,H(T)]])]),_:1})])])}}});export{pe as default};
