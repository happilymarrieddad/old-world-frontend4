import{g as B,u as I,s as N,i as r,F as z,a as e,j as C,k as R,d as c,l as y,m as F,o as m,c as f,b as g,w as l,C as H,q as K,n as L,t as v,e as M,D as O,G as j,E as q,y as P,z as U,A as $,H as J}from"./index-NHNacFVT.js";/* empty css                   *//* empty css                *//* empty css                     *//* empty css                           *//* empty css                 *//* empty css                  */import{u as Q}from"./games-CajSAPuA.js";import{u as W}from"./armyTypes-D85Hwbun.js";import"./timestamp_pb-DpX4yl5v.js";const X={class:"army-types-index"},Y={class:"army-types"},Z={style:{height:"1000px"}},me=B({__name:"IndexView",setup(ee){const o=I(),h=Q(),w=W(),{loading:b}=N(o),n=r([]),u=r([]),i=r(""),x=r(""),E=r([{key:"id",dataKey:"id",width:300,title:"ID"},{key:"name",dataKey:"name",width:500,title:"Name"},{dataKey:"id",width:200,fixed:z.RIGHT,title:"Options",cellRenderer:s=>e(y,null,[e(C,{underline:!1,icon:R,href:`/army-types/${s.cellData}`},{default:()=>[c("Edit")]})])}]);async function T(){o.loading=!0;const[s,,a]=await h.getGames(500,0);if(a){v.error(a);return}n.value=s,n.value.length>0&&(i.value=n.value[0].id,x.value=n.value[0].name),o.loading=!1}async function p(){o.loading=!0;const[s,,a]=await w.getArmyTypes(i.value,500,0);if(a){v.error(a);return}u.value=s,o.loading=!1}return F(async()=>{await T(),await p()}),(s,a)=>{const d=M,_=O,k=j,S=q,V=P,A=U,D=$;return m(),f("div",X,[g("div",Y,[e(S,{separator:"/"},{default:l(()=>[e(d,{to:{path:"/"}},{default:l(()=>[c("Homepage")]),_:1}),e(d,{to:{path:"/games"}},{default:l(()=>[e(k,{modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=t=>i.value=t),placeholder:"Select",size:"small",style:{"min-width":"200px"},onChange:p},{default:l(()=>[e(_,{key:"",label:"",value:"-- Please select a game --"}),(m(!0),f(y,null,H(n.value,t=>(m(),J(_,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(d,null,{default:l(()=>[c("Army Types")]),_:1})]),_:1})]),g("div",Z,[e(A,null,{default:l(({height:t,width:G})=>[K(e(V,{columns:E.value,data:u.value,width:G,height:t,fixed:""},null,8,["columns","data","width","height"]),[[D,L(b)]])]),_:1})])])}}});export{me as default};
