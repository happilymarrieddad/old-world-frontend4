import{f as G,u as I,s as N,r as n,F as R,a as e,m as z,n as C,d,p as _,g as F,o as c,c as y,b as f,w as l,q as K,h as L,i as H,j as v,e as M,t as O,x as j,E as q,k as P,l as U,v as $,y as J}from"./index-DuBop9t4.js";/* empty css                     *//* empty css                    *//* empty css                           *//* empty css                 *//* empty css                  */import{u as Q}from"./games-Biqdm4kf.js";import{u as W}from"./armyTypes-XZXiAt3J.js";/* empty css                */import"./timestamp_pb-DtOAgJG7.js";const X={class:"army-types-index"},Y={class:"army-types"},Z={style:{height:"1000px"}},me=G({__name:"IndexView",setup(ee){const h=I(),g=Q(),w=W(),{loading:b}=N(h),o=n([]),m=n([]),r=n(""),x=n(""),E=n([{key:"id",dataKey:"id",width:300,title:"ID"},{key:"name",dataKey:"name",width:500,title:"Name"},{dataKey:"id",width:200,fixed:R.RIGHT,title:"Options",cellRenderer:s=>e(_,null,[e(z,{underline:!1,icon:C,href:`/army-types/${s.cellData}`,disabled:!0},{default:()=>[d("Edit")]})])}]);async function T(){const[s,,t]=await g.getGames(500,0);if(t){v.error(t);return}o.value=s,o.value.length>0&&(r.value=o.value[0].id,x.value=o.value[0].name)}async function u(){const[s,,t]=await w.getArmyTypes(r.value,500,0);if(t){v.error(t);return}m.value=s}return F(async()=>{await T(),await u()}),(s,t)=>{const i=M,p=O,k=j,S=q,V=P,A=U,B=$;return c(),y("div",X,[f("div",Y,[e(S,{separator:"/"},{default:l(()=>[e(i,{to:{path:"/"}},{default:l(()=>[d("Homepage")]),_:1}),e(i,{to:{path:"/games"}},{default:l(()=>[e(k,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=a=>r.value=a),placeholder:"Select",size:"small",style:{"min-width":"200px"},onChange:u},{default:l(()=>[e(p,{key:"",label:"",value:"-- Please select a game --"}),(c(!0),y(_,null,K(o.value,a=>(c(),J(p,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(i,null,{default:l(()=>[d("Army Types")]),_:1})]),_:1})]),f("div",Z,[e(A,null,{default:l(({height:a,width:D})=>[L(e(V,{columns:E.value,data:m.value,width:D,height:a,fixed:""},null,8,["columns","data","width","height"]),[[B,H(b)]])]),_:1})])])}}});export{me as default};
