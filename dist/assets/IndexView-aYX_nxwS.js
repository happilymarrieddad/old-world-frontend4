import{f as G,u as I,s as N,r as i,F as z,a as e,n as R,q as A,d,t as f,g as F,o as m,c as v,b as g,w as s,x as K,i as L,h as H,j as h,e as M,y as O,z as j,E as q,l as P,m as U,v as $,A as J}from"./index-BPptFwra.js";/* empty css                   *//* empty css                    *//* empty css                     *//* empty css                           *//* empty css                 *//* empty css                  */import{u as Q}from"./games-2tesK-Co.js";import{u as W}from"./compositionTypes-C4WTSefy.js";/* empty css                */import"./timestamp_pb-YH_wUWDP.js";const X={class:"composition-types-index"},Y={class:"composition-types"},Z={style:{height:"1000px"}},ue=G({__name:"IndexView",setup(ee){const l=I(),y=Q(),w=W(),{loading:b}=N(l),n=i([]),u=i([]),r=i(""),x=i(""),E=i([{key:"id",dataKey:"id",width:300,title:"ID"},{key:"name",dataKey:"name",width:500,title:"Name"},{dataKey:"id",width:200,fixed:z.RIGHT,title:"Options",cellRenderer:o=>e(f,null,[e(R,{underline:!1,icon:A,href:`/composition-types/${o.cellData}`},{default:()=>[d("Edit")]})])}]);async function T(){l.loading=!0;const[o,,t]=await y.getGames(500,0);if(t){h.error(t);return}n.value=o,n.value.length>0&&(r.value=n.value[0].id,x.value=n.value[0].name),l.loading=!1}async function p(){l.loading=!0;const[o,,t]=await w.getCompositionTypes(r.value,500,0);if(t){h.error(t);return}u.value=o,l.loading=!1}return F(async()=>{await T(),await p()}),(o,t)=>{const c=M,_=O,k=j,S=q,V=P,C=U,B=$;return m(),v("div",X,[g("div",Y,[e(S,{separator:"/"},{default:s(()=>[e(c,{to:{path:"/"}},{default:s(()=>[d("Homepage")]),_:1}),e(c,{to:{path:"/games"}},{default:s(()=>[e(k,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=a=>r.value=a),placeholder:"Select",size:"small",style:{"min-width":"200px"},onChange:p},{default:s(()=>[e(_,{key:"",label:"",value:"-- Please select a game --"}),(m(!0),v(f,null,K(n.value,a=>(m(),J(_,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(c,null,{default:s(()=>[d("Composition Types")]),_:1})]),_:1})]),g("div",Z,[e(C,null,{default:s(({height:a,width:D})=>[L(e(V,{columns:E.value,data:u.value,width:D,height:a,fixed:""},null,8,["columns","data","width","height"]),[[B,H(b)]])]),_:1})])])}}});export{ue as default};
