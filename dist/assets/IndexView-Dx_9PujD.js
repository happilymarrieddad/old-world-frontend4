import{f as I,u as N,s as z,g as r,F as R,a as e,h as A,i as C,d as c,j as f,k as F,o as u,c as v,b as g,w as s,y as K,m as L,l as H,n as h,e as M,z as O,A as j,E as q,q as P,t as U,v as $,B as J}from"./index-Bk083lMD.js";/* empty css                   *//* empty css                *//* empty css                     *//* empty css                           *//* empty css                 *//* empty css                  */import{u as Q}from"./games-DAlUTQAr.js";import{u as W}from"./troopTypes-Cdr8Cg39.js";import"./timestamp_pb-DFz3gxdW.js";const X={class:"troop-types-index"},Y={class:"troop-types"},Z={style:{height:"1000px"}},ue=I({__name:"IndexView",setup(ee){const l=N(),y=Q(),w=W(),{loading:T}=z(l),n=r([]),p=r([]),i=r(""),b=r(""),x=r([{key:"id",dataKey:"id",width:300,title:"ID"},{key:"name",dataKey:"name",width:500,title:"Name"},{dataKey:"id",width:200,fixed:R.RIGHT,title:"Options",cellRenderer:o=>e(f,null,[e(A,{underline:!1,icon:C,href:`/troop-types/${o.cellData}`},{default:()=>[c("Edit")]})])}]);async function E(){l.loading=!0;const[o,,t]=await y.getGames(500,0);if(t){h.error(t);return}n.value=o,n.value.length>0&&(i.value=n.value[0].id,b.value=n.value[0].name),l.loading=!1}async function m(){l.loading=!0;const[o,,t]=await w.getTroopTypes(i.value,500,0);if(t){h.error(t);return}p.value=o,l.loading=!1}return F(async()=>{await E(),await m()}),(o,t)=>{const d=M,_=O,k=j,S=q,V=P,B=U,D=$;return u(),v("div",X,[g("div",Y,[e(S,{separator:"/"},{default:s(()=>[e(d,{to:{path:"/"}},{default:s(()=>[c("Homepage")]),_:1}),e(d,{to:{path:"/games"}},{default:s(()=>[e(k,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=a=>i.value=a),placeholder:"Select",size:"small",style:{"min-width":"200px"},onChange:m},{default:s(()=>[e(_,{key:"",label:"",value:"-- Please select a game --"}),(u(!0),v(f,null,K(n.value,a=>(u(),J(_,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(d,null,{default:s(()=>[c("Troop Types")]),_:1})]),_:1})]),g("div",Z,[e(B,null,{default:s(({height:a,width:G})=>[L(e(V,{columns:x.value,data:p.value,width:G,height:a,fixed:""},null,8,["columns","data","width","height"]),[[D,H(T)]])]),_:1})])])}}});export{ue as default};
